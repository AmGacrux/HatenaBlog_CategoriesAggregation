<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="485px" preserveAspectRatio="none" style="width:646px;height:485px;" version="1.1" viewBox="0 0 646 485" width="646px" zoomAndPan="magnify"><defs><filter height="300%" id="f1u06aj05nvk7a" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="435" x="106" y="24.5332">ブログパーツ表示からデータ取得、更新、円グラフ描画の流れ　</text><rect fill="#FFFFFF" filter="url(#f1u06aj05nvk7a)" height="299.0547" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="99" y="156.5703"/><rect fill="#FFFFFF" filter="url(#f1u06aj05nvk7a)" height="42" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="178" y="200.9219"/><rect fill="#FFFFFF" filter="url(#f1u06aj05nvk7a)" height="42" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="267.5" y="258.9219"/><rect fill="#FFFFFF" filter="url(#f1u06aj05nvk7a)" height="42" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="267.5" y="347.2734"/><rect fill="#FFFFFF" filter="url(#f1u06aj05nvk7a)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="388.5" y="214.9219"/><rect fill="#FFFFFF" filter="url(#f1u06aj05nvk7a)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="542.5" y="272.9219"/><rect fill="#FFFFFF" filter="url(#f1u06aj05nvk7a)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="542.5" y="361.2734"/><rect fill="#FFFFFF" filter="url(#f1u06aj05nvk7a)" height="132.3516" style="stroke: #000000; stroke-width: 2.0;" width="573" x="61" y="176.5703"/><rect fill="#FFFFFF" height="58" style="stroke: none; stroke-width: 1.0;" width="573" x="61" y="250.9219"/><rect fill="#FFFFFF" filter="url(#f1u06aj05nvk7a)" height="103.3516" style="stroke: #000000; stroke-width: 2.0;" width="573" x="61" y="322.9219"/><rect fill="#FFFFFF" height="29" style="stroke: none; stroke-width: 1.0;" width="573" x="61" y="397.2734"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="104" x2="104" y1="119.2188" y2="473.625"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="183" x2="183" y1="119.2188" y2="473.625"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="272" x2="272" y1="119.2188" y2="473.625"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="393" x2="393" y1="119.2188" y2="473.625"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="547" x2="547" y1="119.2188" y2="473.625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="60" x="71" y="116.1426">Blogparts</text><ellipse cx="104" cy="44.6094" fill="#FEFECE" filter="url(#f1u06aj05nvk7a)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M104,52.6094 L104,79.6094 M91,60.6094 L117,60.6094 M104,79.6094 L91,94.6094 M104,79.6094 L117,94.6094 " fill="none" filter="url(#f1u06aj05nvk7a)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="66" x="147" y="116.1426">HatenaAPI</text><path d="M165,65.6094 C165,55.6094 183,55.6094 183,55.6094 C183,55.6094 201,55.6094 201,65.6094 L201,91.6094 C201,101.6094 183,101.6094 183,101.6094 C183,101.6094 165,101.6094 165,91.6094 L165,65.6094 " fill="#FEFECE" filter="url(#f1u06aj05nvk7a)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M165,65.6094 C165,75.6094 183,75.6094 183,75.6094 C183,75.6094 201,75.6094 201,65.6094 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="81" x="229" y="116.1426">Spreadsheet</text><path d="M254.5,65.6094 C254.5,55.6094 272.5,55.6094 272.5,55.6094 C272.5,55.6094 290.5,55.6094 290.5,65.6094 L290.5,91.6094 C290.5,101.6094 272.5,101.6094 272.5,101.6094 C272.5,101.6094 254.5,101.6094 254.5,91.6094 L254.5,65.6094 " fill="#FEFECE" filter="url(#f1u06aj05nvk7a)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M254.5,65.6094 C254.5,75.6094 272.5,75.6094 272.5,75.6094 C272.5,75.6094 290.5,75.6094 290.5,65.6094 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><rect fill="#FEFECE" filter="url(#f1u06aj05nvk7a)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="127" x="330" y="78.6094"/><rect fill="#FEFECE" filter="url(#f1u06aj05nvk7a)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="127" x="326" y="82.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="113" x="333" y="104.1426">CurrentPostsData</text><rect fill="#FEFECE" filter="url(#f1u06aj05nvk7a)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="145" x="475" y="78.6094"/><rect fill="#FEFECE" filter="url(#f1u06aj05nvk7a)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="145" x="471" y="82.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="131" x="478" y="104.1426">AggregatePostsData</text><rect fill="#FFFFFF" filter="url(#f1u06aj05nvk7a)" height="299.0547" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="99" y="156.5703"/><rect fill="#FFFFFF" filter="url(#f1u06aj05nvk7a)" height="42" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="178" y="200.9219"/><rect fill="#FFFFFF" filter="url(#f1u06aj05nvk7a)" height="42" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="267.5" y="258.9219"/><rect fill="#FFFFFF" filter="url(#f1u06aj05nvk7a)" height="42" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="267.5" y="347.2734"/><rect fill="#FFFFFF" filter="url(#f1u06aj05nvk7a)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="388.5" y="214.9219"/><rect fill="#FFFFFF" filter="url(#f1u06aj05nvk7a)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="542.5" y="272.9219"/><rect fill="#FFFFFF" filter="url(#f1u06aj05nvk7a)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="542.5" y="361.2734"/><polygon fill="#A80036" points="87,152.5703,97,156.5703,87,160.5703,91,156.5703" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="3" x2="93" y1="156.5703" y2="156.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="77" x="10" y="151.7139">DrawRequest</text><path d="M114,134.2188 L114,160.2188 L428,160.2188 L428,144.2188 L418,134.2188 L114,134.2188 " fill="#FBFB77" filter="url(#f1u06aj05nvk7a)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M418,134.2188 L418,144.2188 L428,144.2188 L418,134.2188 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="293" x="120" y="152.7139">ブログパーツ(html)内のスクリプトからの呼び出し</text><path d="M61,176.5703 L127,176.5703 L127,184.5703 L117,194.5703 L61,194.5703 L61,176.5703 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="132.3516" style="stroke: #000000; stroke-width: 2.0;" width="573" x="61" y="176.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="21" x="76" y="191.0654">par</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="332" x="142" y="189.9893">[現在の状態の投稿データと累計の投稿データをそれぞれ取得]</text><polygon fill="#A80036" points="166,196.9219,176,200.9219,166,204.9219,170,200.9219" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="109" x2="172" y1="200.9219" y2="200.9219"/><polygon fill="#A80036" points="376.5,210.9219,386.5,214.9219,376.5,218.9219,380.5,214.9219" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="188" x2="382.5" y1="214.9219" y2="214.9219"/><polygon fill="#A80036" points="199,224.9219,189,228.9219,199,232.9219,195,228.9219" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="193" x2="392.5" y1="228.9219" y2="228.9219"/><polygon fill="#A80036" points="120,238.9219,110,242.9219,120,246.9219,116,242.9219" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="114" x2="182" y1="242.9219" y2="242.9219"/><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="61" x2="634" y1="251.9219" y2="251.9219"/><polygon fill="#A80036" points="255.5,254.9219,265.5,258.9219,255.5,262.9219,259.5,258.9219" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="109" x2="261.5" y1="258.9219" y2="258.9219"/><polygon fill="#A80036" points="530.5,268.9219,540.5,272.9219,530.5,276.9219,534.5,272.9219" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="277.5" x2="536.5" y1="272.9219" y2="272.9219"/><polygon fill="#A80036" points="288.5,282.9219,278.5,286.9219,288.5,290.9219,284.5,286.9219" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="282.5" x2="546.5" y1="286.9219" y2="286.9219"/><polygon fill="#A80036" points="120,296.9219,110,300.9219,120,304.9219,116,300.9219" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="114" x2="271.5" y1="300.9219" y2="300.9219"/><path d="M61,322.9219 L122,322.9219 L122,330.9219 L112,340.9219 L61,340.9219 L61,322.9219 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="103.3516" style="stroke: #000000; stroke-width: 2.0;" width="573" x="61" y="322.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="16" x="76" y="337.417">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="212" x="137" y="336.3408">[投稿データが累計よりも増減している]</text><polygon fill="#A80036" points="255.5,343.2734,265.5,347.2734,255.5,351.2734,259.5,347.2734" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="109" x2="261.5" y1="347.2734" y2="347.2734"/><polygon fill="#A80036" points="530.5,357.2734,540.5,361.2734,530.5,365.2734,534.5,361.2734" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="277.5" x2="536.5" y1="361.2734" y2="361.2734"/><polygon fill="#A80036" points="288.5,371.2734,278.5,375.2734,288.5,379.2734,284.5,375.2734" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="282.5" x2="546.5" y1="375.2734" y2="375.2734"/><polygon fill="#A80036" points="120,385.2734,110,389.2734,120,393.2734,116,389.2734" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="114" x2="271.5" y1="389.2734" y2="389.2734"/><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="61" x2="634" y1="398.2734" y2="398.2734"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="109" x2="151" y1="405.2734" y2="405.2734"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="151" x2="151" y1="405.2734" y2="418.2734"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="110" x2="151" y1="418.2734" y2="418.2734"/><polygon fill="#A80036" points="120,414.2734,110,418.2734,120,422.2734,116,418.2734" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="14,451.625,4,455.625,14,459.625,10,455.625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="8" x2="103" y1="455.625" y2="455.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="60" x="20" y="450.7686">DrawChart</text><!--
@startuml Sequence
hide footbox
title ブログパーツ表示からデータ取得、更新、円グラフ描画の流れ　

actor Blogparts
database HatenaAPI
database Spreadsheet
collections CurrentPostsData
collections AggregatePostsData

[-> Blogparts : DrawRequest

note right: ブログパーツ(html)内のスクリプトからの呼び出し

activate Blogparts
par 現在の状態の投稿データと累計の投稿データをそれぞれ取得
Blogparts -> HatenaAPI
activate HatenaAPI
HatenaAPI -> CurrentPostsData
activate CurrentPostsData
HatenaAPI <- - CurrentPostsData
deactivate CurrentPostsData
Blogparts <- - HatenaAPI
deactivate HatenaAPI

else
Blogparts -> Spreadsheet
activate Spreadsheet
Spreadsheet -> AggregatePostsData
activate AggregatePostsData
Spreadsheet <- - AggregatePostsData
deactivate AggregatePostsData
Blogparts <- - Spreadsheet
deactivate Spreadsheet 

end

alt 投稿データが累計よりも増減している
Blogparts -> Spreadsheet
activate Spreadsheet
Spreadsheet -> AggregatePostsData
activate AggregatePostsData
Spreadsheet <- - AggregatePostsData
deactivate AggregatePostsData
Blogparts <- - Spreadsheet
deactivate Spreadsheet 

else
Blogparts <- - Blogparts

end

[<- Blogparts: DrawChart

deactivate Blogparts

@enduml

PlantUML version 1.2018.12(Sun Oct 21 19:15:15 JST 2018)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_201-b09
Operating System: Windows 10
OS Version: 10.0
Default Encoding: MS932
Language: ja
Country: JP
--></g></svg>